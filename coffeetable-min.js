(function(){var o,p;p={coffeescript_js:"https://raw.github.com/alecperkins/coffeetable/master/lib/coffee_script-1.1.1-min.js",style:{position:"fixed",top:"5px",right:"5px"},local_storage:true,ls_key:"coffee-table",multi_line:false};typeof console!=="undefined"&&console!==null||(console={log:function(){},dir:function(){}});window.log=function(){return console.log(arguments)};window.dir=function(){return console.dir(arguments)};o=function(){function q(b){var c,d;if(b==null)b={};g=p;for(c in b){d=b[c];
g[c]=d}j={widget:{position:""+g.style.position,top:""+g.style.top,right:""+g.style.right,background:"rgba(255,255,255,0.9)",padding:"0",border:"2px solid white","z-index":"9999999","box-shadow":"0px 0px 4px #222","font-size":"12px","max-height":"95%","overflow-y":"scroll"},button:{"float":"right",background:"white",border:"1px solid #ccc",color:"#991111",cursor:"pointer"},button_active:{background:"#991111",color:"white"},textarea:{"font-family":"monospace","font-size":"15px","min-width":"400px",
height:"22px",margin:"4px"},div:{display:"none"},ul:{margin:"8px",padding:"4px 4px 4px 16px","font-family":"monospace","list-style-type":"circle"},li:{padding:"4px 4px 4px 4px",cursor:"pointer"},span:{padding:"4px","text-align":"center",cursor:"pointer","float":"left",color:"#555","font-variant":"small-caps",display:"none"},a:{padding:"4px","text-align":"center",cursor:"pointer","float":"right",color:"#555","font-variant":"small-caps"},input:{"vertical-align":"middle"},p:{padding:"4px",margin:"0",
"float":"right",display:"inline-block",width:"80px",color:"#555","font-variant":"small-caps",display:"none","text-align":"right"}};r={"function":{color:"#229922"},number:{color:"#222299"},string:{color:"#992222"},undefined:{color:"grey","font-style":"italic"},object:{},"boolean":{color:"#229999"}};s="            <div>                <button>CoffeeTable</button>                <span>clear</span>                <a href='https://github.com/alecperkins/coffeetable' target='_blank'>?</a>                <p>multiline <input type='checkbox'></p>                <div>                    <textarea></textarea>                    <ul></ul>                </div>            </div>        ";
w();x();g.local_storage&&y()}var a,m,t,z,u,h,k,w,y,n,x,r,g,j,s,A;r=j=a=g=null;s="";m=false;k=0;h={source:[],result:[]};y=function(){var b,c;c=typeof localStorage!=="undefined"&&localStorage!==null?localStorage.getItem("coffee-table"):void 0;if(c!=null){c=JSON.parse(c);b=function(){var d,e,i,f;if(typeof CoffeeScript!=="undefined"&&CoffeeScript!==null){f=[];e=0;for(i=c.length;e<i;e++){d=c[e];f.push(u(d))}return f}else return setTimeout(function(){return b()},500)};return b()}};u=function(b){var c,d,
e,i,f,l,v;h.source.length===0&&a.ul.empty();k=-1;h.source.push(b);d=null;i=c=false;try{e=CoffeeScript.compile(b,{bare:true})}catch(B){c=true;d=B}if(d==null)try{l=eval(e)}catch(C){i=true;d=C}if(d!=null)l=d;h.result.push(l);v=h.source.length-1;f=$("<li>"+v+": <span>"+l+"</span></li>");f.css(j.li);f.find("span").css(r[typeof l]);if(c)f.css("color","orange");else i&&f.css("color","red");f.hover(function(){return f.css({background:"rgba(255,255,0,0.2)","list-style-type":"disc"})},function(){return f.css({background:"",
"list-style-type":""})});f.click(function(){n(false,v);return a.textarea.focus()});f.mousedown(function(){return f.css({background:"rgba(255,255,0,0.8)"})});f.mouseup(function(){return f.css({background:"rgba(255,255,0,0.2)"})});f.prependTo(a.ul);a.span.show();return typeof localStorage!=="undefined"&&localStorage!==null?localStorage.setItem(g.ls_key,JSON.stringify(h.source)):void 0};z=function(){a.ul.empty();h.source=[];h.result=[];typeof localStorage!=="undefined"&&localStorage!==null&&localStorage.removeItem(g.ls_key);
a.span.hide();return t()};t=function(){var b;b=$("<li>type CoffeeScript, press enter</li>");b.css({"list-style-type":"none","text-align":"center"});return b.appendTo(a.ul)};n=function(b,c){if(b==null)b=false;if(c!=null)k=c+1;if(k===-1)k=h.source.length-1;else if(b)k+=1;else k-=1;if(h.source.length>1){a.textarea.val(h.source[k]);a.textarea.selectionStart=0;return a.textarea.selectionEnd=0}};A=function(){var b,c;g.multi_line=!g.multi_line;if(g.multi_line){c="4em";b="type CoffeeScript, press shift+enter"}else{c=
j.textarea.height;b="type CoffeeScript, press enter"}a.textarea.css("height",c).focus();if(h.source.length===0)return a.ul.find("li").text(b)};x=function(){var b,c,d;d=$(s);a={widget:d,textarea:d.find("textarea"),ul:d.find("ul"),button:d.find("button"),div:d.find("div"),span:d.find("span"),a:d.find("a"),input:d.find("input"),p:d.find("p"),li:d.find("li")};for(c in a){b=a[c];b.css(j[c])}t();a.button.click(function(){if(m){a.button.css(j.button);a.div.hide();a.p.hide()}else{a.button.css(j.button_active);
a.div.show();a.p.show();a.textarea.focus()}return m=!m});a.span.click(function(){return z()});a.span.hover(function(){return a.span.css("color","#991111")},function(){return a.span.css("color",j.span.color)});a.input.click(function(){return A()});a.textarea.bind("keydown",function(e){var i;i=a.textarea.val();if(this.selectionStart===0)if(e.which===38)n();else e.which===40&&n(true);if(e.which===13&&(!g.multi_line||e.shiftKey)){e.preventDefault();if(i!==""){u(i);return a.textarea.val("")}}else if(e.which===
9){e.preventDefault();e=this.selectionStart;this.value=this.value.substring(0,e)+"    "+this.value.substring(e);this.selectionStart=e+4;return this.selectionEnd=e+4}});g.multi_line&&a.input.click();return d.appendTo("body")};w=function(){var b;if(window.CoffeeScript==null){b=document.createElement("script");b.type="application/javascript";b.src=p.coffeescript_js;return $("head").append(b)}};q.prototype.show=function(){a.widget.show();return this};q.prototype.hide=function(){a.widget.hide();return this};
return q}();window.CoffeeTable=o;$(document).ready(function(){return window.coffeetable_instance=new o(window.coffeetable_settings)})}).call(this);
